<!DOCTYPE html>
<html>  
    
<head>
    <style>
        html, body, #map { height: 600px; width: 600px }
    </style>

   <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css"
   integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ=="
   crossorigin=""/>
    
   <script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"
   integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw=="
   crossorigin=""></script>
</head>
    
<body> 
<form action="/subset/results/" method="POST">
    {% csrf_token %}
    {{ form.as_p }}
<input type="submit" value="Create Subset" />
</form>
    
<div id="map"></div>
    
<script>     
    var map = L.map('map').setView([33.5, -101.86], 5);
    
    L.tileLayer("http://tile.stamen.com/terrain/{z}/{x}/{y}.jpg", {
            attribution: 'Map tiles by <a href="http://stamen.com">Stamen Design</a>, under <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>. Data by <a href="http://openstreetmap.org">OpenStreetMap</a>, under <a href="http://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>.'
        }).addTo(map);

    var bounds = [{
        "type": "Feature",
        "properties": {"rbox": "rbox"},
        "geometry": {
            "type": "Polygon",
            "coordinates": [[
            [
              {{ form.llon.initial }},
              {{ form.llat.initial }}
            ],
            [
              {{ form.ulon.initial }},
              {{ form.llat.initial }}
            ],
            [
              {{ form.ulon.initial }},
              {{ form.ulat.initial }}
            ],
            [
              {{ form.llon.initial }},
              {{ form.ulat.initial }}
            ],
            [
              {{ form.llon.initial }},
              {{ form.llat.initial }}
            ]]
         ]
        }
    }];
    
    
    L.geoJSON(bounds, {
        style: function(feature) {
            return {color: "#ff0000"}
        }
    }).addTo(map);
</script>  
</body>
</html>